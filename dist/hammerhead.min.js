/*! hammerhead 08-05-2014 */
var Hammerhead=function(a){pointPrototype={add:function(a){return b(this.x+a.x,this.y+a.y)},subtract:function(a){return b(this.x-a.x,this.y-a.y)},multiply:function(a){return b(this.x*a,this.y*a)},transform:function(a){return b(this.x*a.a+a.e,this.y*a.d+a.f)},scaleTransform:function(a){return b(this.x*a.a,this.y*a.d)}};var b=function(a,b){var c,d;void 0===b?void 0!==a.x?(d=a.y,c=a.x):void 0!==a.pageX?(d=a.pageY,c=a.pageX):void 0!==a.deltaX&&(d=a.deltaY,c=a.deltaX):(c=a,d=b);var e=Object.create(pointPrototype);return e.x=c,e.y=d,e};return a.Point=b,a}(Hammerhead||{}),Hammerhead=function(a){viewBoxPrototype={x0:function(){return this.getMinimal().x},y0:function(){return this.getMinimal().y},x1:function(){return this.getMaximal().x},y1:function(){return this.getMaximal().y},dX:function(){return this.x1()-this.x0()},dY:function(){return this.y1()-this.y0()},toString:function(){return[this.x0(),this.y0(),this.dX(),this.dY()].join(" ")},translate:function(a){var c=this.getMinimal().subtract(a),d=this.getMaximal().subtract(a);return b(c,d)},scale:function(a,c){var d=1/c,e=this.getMinimal().subtract(a).multiply(d).add(a),f=this.getMaximal().subtract(a).multiply(d).add(a);return b(e,f)}};var b=function(a,b){if("string"==typeof a)return c(a);var d=Object.create(viewBoxPrototype);return d.getMinimal=function(){return a},d.getMaximal=function(){return b},d},c=function(c){var d=function(a){return parseInt(a,10)},e=c.split(" ").map(d),f=a.Point(e[0],e[1]),g=a.Point(e[2],e[3]),h=f.add(g);return b(f,h)};return a.ViewBox=b,a.ViewBox.fromString=c,a}(Hammerhead||{}),Hammerhead=function(a){var b={},c=function(c){function d(a){c.setAttribute("viewBox",a)}function e(a){return k=l.translate(a),d(k.toString()),this}function f(a){var b=a.scaleTransform(c.getScreenCTM().inverse());return this.translate(b)}function g(a,b){return k=l.scale(a,b),d(k.toString()),this}function h(a,b){var d=a.transform(c.getScreenCTM().inverse());return this.scale(d,b)}function i(){return l=k,this}function j(){return k=m,d(k.toString()),this}var k,l,m;m=k=l=a.ViewBox(c.getAttribute("viewBox")),d=_.throttle(d,0);var n=Object.create(b);return[e,f,g,h,i,j].forEach(function(a){n[a.name]=a}),n};return a.MobileSVG=c,a}(Hammerhead||{}),Hammerhead=function(a){function b(a){return a&&"svg"==a.tagName.toLowerCase()}function c(a){var c=document.getElementById(a);if(b(c))return c;throw"Id: "+a+" is not a SVG element"}function d(a){function b(a){a.gesture.preventDefault(),a.target.ownerSVGElement===i&&f(k)}function d(){j.fix(),g(k)}function f(a){a.on("dragstart drag transformstart pinch",l),a.on("release",d)}function g(a){a.off("dragstart drag transformstart pinch",l),a.off("release",d)}var h,i=c(a),j=Hammerhead.MobileSVG(i),k=Hammer(document).on("touch",b);h={gesture:{}};var l=function(a){var b=a.gesture;b.preventDefault(),m[a.type](b)},m={dragstart:function(){j.fix()},drag:function(a){j.drag(Hammerhead.Point(a.deltaX,a.deltaY))},transformstart:function(){j.fix()},pinch:function(a){j.zoom(Hammerhead.Point(a.center.pageX,a.center.pageY),a.scale)}},n=Object.create(e);return n._test={hammertime:k,handlers:m},n}var e={};return _.extend(d,a)}(Hammerhead||{});