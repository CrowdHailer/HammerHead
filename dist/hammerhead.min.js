/*! hammerhead 02-05-2014 */
function Point(a,b){this.x=a,this.y=b}Point.prototype={constructor:Point,add:function(a){return new Point(this.x+a.x,this.y+a.y)},subtract:function(a){return new Point(this.x-a.x,this.y-a.y)},multiply:function(a){return new Point(this.x*a,this.y*a)},mapTo:function(a){var b=a.getScreenCTM().inverse();return this.transform(b)},transform:function(a){var b=this.x,c=this.y;return new Point(b*a.a+a.e,c*a.d+a.f)},scaleTransform:function(a){return new Point(this.x*a.a,this.y*a.d)},scaleTo:function(a){var b=a.getScreenCTM().inverse();return this.scaleTransform(b)}};var ViewBox;!function(){ViewBox=function(a,b){this.getMinimal=function(){return a},this.getMaximal=function(){return b}},ViewBox.prototype={constructor:ViewBox,x0:function(){return this.getMinimal().x},y0:function(){return this.getMinimal().y},x1:function(){return this.getMaximal().x},y1:function(){return this.getMaximal().y},dX:function(){return this.x1()-this.x0()},dY:function(){return this.y1()-this.y0()},toString:function(){return[this.x0(),this.y0(),this.dX(),this.dY()].join(" ")},translate:function(a){var b=this.getMinimal().subtract(a),c=this.getMaximal().subtract(a);return new this.constructor(b,c)},scale:function(a,b){var c=1/b,d=this.getMinimal().subtract(a).multiply(c).add(a),e=this.getMaximal().subtract(a).multiply(c).add(a);return new this.constructor(d,e)}},ViewBox.fromString=function(a){var b=function(a){return parseInt(a,10)},c=a.split(" ").map(b),d=new Point(c[0],c[1]),e=new Point(c[2],c[3]),f=d.add(e);return new this(d,f)}}();var MobileSVG;!function(){MobileSVG=function(a){var b,c,d,e;d=ViewBox.fromString(a.getAttribute("viewBox")),e=d,b=d;var f=function(){var b=a.getScreenCTM().inverse();return window.devicePixelRatio||(b=b.scale(2)),b};c=f(),this.translate=function(c){return b=d.translate(c),a.setAttribute("viewBox",b.toString()),this},this.drag=function(a){var b=a.scaleTransform(c);return this.translate(b)},this.scale=function(c,e){return b=d.scale(c,e),a.setAttribute("viewBox",b.toString()),this},this.zoom=function(a,b){var d=a.transform(c);return this.scale(d,b)},this.fix=function(){return d=b,this},this.home=function(){d=e,a.setAttribute("viewBox",d.toString())}}}();var Hammerhead;!function(){function a(a){return a&&"svg"==a.tagName.toLowerCase()}function b(b){var c=document.getElementById(b);if(a(c))return c;throw"Id: "+b+" is not a SVG element"}Hammerhead=function(a){function c(a){a.on("dragstart drag transformstart pinch",k),a.on("release",f)}function d(a){a.off("dragstart drag transformstart pinch",k),a.off("release",f)}function e(a){a.gesture.preventDefault(),a.target.ownerSVGElement===g&&c(i)}function f(){h.fix(),d(i)}var g=b(a),h=new MobileSVG(g),i=Hammer(document).on("touch",e),j={dragstart:function(){h.fix()},drag:function(a){h.drag(new Point(a.deltaX,a.deltaY))},transformstart:function(){h.fix()},pinch:function(a){h.zoom(new Point(a.center.pageX,a.center.pageY),a.scale)}},k=function(a){var b=a.gesture;b.preventDefault(),j[a.type](b)};this._test={hammertime:i}}}();