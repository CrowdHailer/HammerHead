/*! hammerhead 08-05-2014 */
var Hammerhead=function(a){pointPrototype={add:function(a){return b(this.x+a.x,this.y+a.y)},subtract:function(a){return b(this.x-a.x,this.y-a.y)},multiply:function(a){return b(this.x*a,this.y*a)},transform:function(a){return b(this.x*a.a+a.e,this.y*a.d+a.f)},scaleTransform:function(a){return b(this.x*a.a,this.y*a.d)}};var b=function(a,b){var c,d;void 0===b?void 0!==a.x?(d=a.y,c=a.x):void 0!==a.pageX?(d=a.pageY,c=a.pageX):void 0!==a.deltaX&&(d=a.deltaY,c=a.deltaX):(c=a,d=b);var e=Object.create(pointPrototype);return e.x=c,e.y=d,e};return a.Point=b,a}(Hammerhead||{}),Hammerhead=function(a){viewBoxPrototype={x0:function(){return this.getMinimal().x},y0:function(){return this.getMinimal().y},x1:function(){return this.getMaximal().x},y1:function(){return this.getMaximal().y},dX:function(){return this.x1()-this.x0()},dY:function(){return this.y1()-this.y0()},toString:function(){return[this.x0(),this.y0(),this.dX(),this.dY()].join(" ")},translate:function(a){var c=this.getMinimal().subtract(a),d=this.getMaximal().subtract(a);return b(c,d)},scale:function(a,c){var d=1/c,e=this.getMinimal().subtract(a).multiply(d).add(a),f=this.getMaximal().subtract(a).multiply(d).add(a);return b(e,f)}};var b=function(a,b){if("string"==typeof a)return c(a);var d=Object.create(viewBoxPrototype);return d.getMinimal=function(){return a},d.getMaximal=function(){return b},d},c=function(c){var d=function(a){return parseInt(a,10)},e=c.split(" ").map(d),f=a.Point(e[0],e[1]),g=a.Point(e[2],e[3]),h=f.add(g);return b(f,h)};return a.ViewBox=b,a.ViewBox.fromString=c,a}(Hammerhead||{}),Hammerhead=function(a){var b={},c={throttleDelay:300},d=function(d,e){function f(a){d.setAttribute("viewBox",a)}function g(a){return m=n.translate(a),f(m.toString()),this}function h(a){var b=a.scaleTransform(d.getScreenCTM().inverse());return this.translate(b)}function i(a,b){return m=n.scale(a,b),f(m.toString()),this}function j(a,b){var c=a.transform(d.getScreenCTM().inverse());return this.scale(c,b)}function k(){return n=m,this}function l(){return m=o,f(m.toString()),this}var m,n,o;e=_.extend({},c,e),o=m=n=a.ViewBox(d.getAttribute("viewBox")),f=_.throttle(f,e.throttleDelay);var p=Object.create(b);return[g,h,i,j,k,l].forEach(function(a){p[a.name]=a}),p};return a.MobileSVG=d,a}(Hammerhead||{}),Hammerhead=function(a){function b(a){var b=document.getElementById(a);if(b&&"svg"==b.tagName.toLowerCase())return b;throw"Id: "+a+" is not a SVG element"}function c(a,c){function f(a){a.gesture.preventDefault(),a.target.ownerSVGElement===j&&h(l)}function g(){k.fix(),i(l)}function h(a){a.on("dragstart drag transformstart pinch",m),a.on("release",g)}function i(a){a.off("dragstart drag transformstart pinch",m),a.off("release",g)}c=_.extend({},e,c);var j=b(a),k=Hammerhead.MobileSVG(j,c),l=Hammer(document).on("touch",f),m=function(a){var b=a.gesture;b.preventDefault(),n[a.type](b)},n={dragstart:function(){k.fix()},drag:function(a){k.drag(Hammerhead.Point(a.deltaX,a.deltaY))},transformstart:function(){k.fix()},pinch:function(a){k.zoom(Hammerhead.Point(a.center.pageX,a.center.pageY),a.scale)}},o=Object.create(d);return o._test={hammertime:l,handlers:n},o}var d={},e={};return _.extend(c,a)}(Hammerhead||{});